в условии в этот раз нет ошибок и его даже можно понять трезвым (кому как)

умное решение можно у других челов посмотреть

мой алг:

1 сначала получаем таблицу c / s / f

2 потом сравниваем с требованиями и получаем таблицу из нулей и единиц

3 строим по ней буквально граф

4 в графе запускаем дфс

а еще у меня вместо пушей распаковка массивов, очевидно лучше сделать пуши